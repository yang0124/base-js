<!DOCTYPE HTML>
<html>
<head>
<title>动态操作表格</title>
<meta charset="utf-8" />
<style>
	table{width:500px; border-collapse:collapse;
		text-align:center;
		margin: 0 auto;
	}
	td{border:1px solid #ccc}
	thead td{font-weight:bold;}
</style>
<script>
	var data=[
		{"id":1001,"name":'可口可乐',"price":2.5,"count":3000},
		{"id":1003,"name":'百事可乐',"price":2.5,"count":5000},
		{"id":1011,"name":'非常可乐',"price":2.3,"count":1000}
	];
	//根据数据生成一个表格
	
</script>
</head>
<body>
	<div id="data1"></div>
	
	<script type="text/javascript">
		var table=document.createElement("table");
		var tr=document.createElement("tr");
		for(var i in data[2]){
			var td=document.createElement("td");
			td.innerHTML=i;
			tr.appendChild(td);
		}
		var td=document.createElement("td");
		td.innerHTML="delete";
		tr.appendChild(td);
		table.appendChild(tr);
		
		for(var i=0;i<data.length;i++){
			var tr=document.createElement("tr");
			for(var j in data[i]){
				var td=document.createElement("td");
				td.innerHTML=data[i][j];
				tr.appendChild(td);
			}
			var td=document.createElement("td");
			td.innerHTML="<button>x</button>";
			tr.appendChild(td);
			table.appendChild(tr);
		}
		data1.appendChild(table);
		
		
		
		var btns=document.getElementsByTagName("button");
		for(var i=0;i<btns.length;i++){
			btns[i].onclick=function(){
				var ok=confirm("确定要删除吗");
				if(ok){
					table.removeChild(this.parentNode.parentNode);
				}
			}
		}
	</script>
</body>
</html>
